// Datos de trabajos
const trabajosData = {
    Templados: {
        titulo: "Templados",
        info: "Nuestras mamparas de baño están fabricadas con vidrio templado de alta calidad, garantizando seguridad y durabilidad. El vidrio templado es hasta 5 veces más resistente que el vidrio común y, en caso de rotura, se fragmenta en pequeños pedazos redondeados, minimizando el riesgo de lesiones. Ofrecemos diferentes espesores (6mm, 8mm y 10mm) y acabados personalizados. Incluimos herrajes de acero inoxidable o aluminio de primera calidad, resistentes a la humedad y corrosión. Todas nuestras instalaciones cuentan con garantía y son realizadas por personal certificado.",
        imagenes: [
        "Imagenes/Cocina 2.png",
        "Imagenes/Repisas de copas 1.png",
        "Imagenes/Cocina.png",
        "Imagenes/Domo .png",
        "Imagenes/Repisas 3.png",
        "Imagenes/Cama.png",
        "Imagenes/Domo 3.png",
        "Imagenes/Domo 4.png",
        "Imagenes/Fachada 5.png",
        "Imagenes/Fachada 6.png",
        "Imagenes/Repisas 4.png",
        "Imagenes/Lavabo 1.png",
        "Imagenes/Barril.png",
        "Imagenes/Locales 1.png",
        "Imagenes/Repisas De Esquineros 2.png"

        ]
    },
    Canceles: {
        titulo: "Canceles",
        info: "Fabricamos ventanas de aluminio y vidrio con los más altos estándares de calidad. Nuestras ventanas ofrecen excelente aislamiento térmico y acústico, perfectas para climas extremos. Utilizamos perfiles de aluminio de alta resistencia con recubrimiento electrostático que garantiza durabilidad y resistencia a la intemperie. El vidrio puede ser claro, tintado, o con protección UV según tus necesidades. Disponibles en diversos sistemas: corredizas, abatibles, panorámicas y proyectantes. Todas incluyen mosquiteros de cortesía y herrajes de máxima calidad con garantía extendida.",
        imagenes: [
        "Imagenes/Cancel Con Lineas curveadas.png",
        "Imagenes/Cancel De Bambu.png",
        "Imagenes/Cancel De Baño 1.png",
        "Imagenes/Cancel Normal 1.png",
        "Imagenes/Cancel De Baño 2.png",
        "Imagenes/Cancel De Baño 3.png",
        "Imagenes/Cancel Normal 4.png",
        "Imagenes/Cancel De Baño 4.png",
        "Imagenes/Cancel De Baño 5.png",
        "Imagenes/Cancel Normal Satinado 3.png"
        ]
    },
    Esmerilados: {
        titulo: "Esmerilados",
        info: "Nuestros espejos están fabricados con cristal de alta calidad y recubrimiento de plata premium que garantiza un reflejo perfecto y sin distorsiones. Ofrecemos espejos en diversos estilos: modernos con iluminación LED integrada, clásicos con marco biselado, o minimalistas sin marco. Todos los espejos cuentan con tratamiento anti-humedad en los bordes, ideal para baños y áreas húmedas. Realizamos cortes personalizados a medida para cualquier espacio. La instalación incluye sistema de montaje seguro y nivelación profesional. Perfectos para baños, recámaras, vestidores y gimnasios.",
        imagenes: [
        "Imagenes/Grabado Esmerilado 8.png",
        "Imagenes/Cancel De Baño Esmerilado 6.png",
        "Imagenes/Grabado Esmerilado 1.png",
        "Imagenes/Cancel De Baño Esmerilado 7.png",
        "Imagenes/Reconocimento 1.png",
        "Imagenes/Grabado Esmerilado 2.png",
        "Imagenes/Cancel De Baño Esmerilado 8.png",
        "Imagenes/Grabado Esmerilado 3.png",
        "Imagenes/Reconocimiento 2.png",
        "Imagenes/Cancel De Baño Esmerilado 9.png",
        "Imagenes/Grabado Esmerilado 4.png",
        "Imagenes/Cancel De Baño Esmerilado 10.png",
        "Imagenes/Grabado Esmerilado 5.png",
        "Imagenes/Reconocimiento 3.png",
        "Imagenes/Cancel Normal Esmerilado 2.png",
        "Imagenes/Grabado Esmerilado 6.png",
        "Imagenes/Domo 2.png",
        "Imagenes/Grabado Esmerilado 7.png",
        "Imagenes/Grabado Esmerilado 9.png",
        "Imagenes/Reconocimiento 4.png",
        "Imagenes/Grabado Esmerilado 10.png"
        ]
    },
    Espejos: {
        titulo: "Espejos",
        info: "Puertas de vidrio templado diseñadas para ofrecer elegancia y funcionalidad. Fabricadas con vidrio de seguridad de 10mm o 12mm de espesor, garantizando máxima resistencia. Disponibles en sistemas batientes, corredizas o plegables según tus necesidades de espacio. Incluyen herrajes importados de acero inoxidable o aluminio con acabados en cromado, satinado o negro mate. El vidrio puede ser transparente, esmerilado, o con diseños personalizados mediante técnicas de grabado. Ideales para oficinas, baños, terrazas y divisiones de ambientes. Contamos con sistemas de cierre suave y seguros anti-pillado para mayor seguridad.",
        imagenes: [
        "Imagenes/Espejo Con Luces 2.png",
        "Imagenes/Espejo Con Luces Led 3.png",
        "Imagenes/Espejo Con luces.png"
        ]
    },
    Fachadas: {
        titulo: "Fachadas",
        info: "Barandales de cristal templado que combinan seguridad con diseño contemporáneo. Fabricados con vidrio de 10mm o 12mm de espesor, cumpliendo con todas las normas de seguridad vigentes. El sistema de fijación puede ser con herrajes vistos de acero inoxidable o con canal de aluminio para un acabado minimalista. Ideales para escaleras, balcones, terrazas y entrepisos. El vidrio puede ser transparente para maximizar la luz natural o esmerilado para mayor privacidad. Todos nuestros barandales son sometidos a pruebas de resistencia y carga antes de la instalación. Incluyen pasamanos de acero inoxidable o madera según preferencia.",
        imagenes: [
        "Imagenes/Fachada 7.png",
        "Imagenes/Fachada 1.png",
        "Imagenes/Fachada 8.png",
        "Imagenes/Fachada 2.png",
        "Imagenes/Fachada 3.png",
        "Imagenes/Fachada 4.png",
        ]
    },
    Pasamanos: {
        titulo: "Pasamanos",
        info: "Sistemas de cancelería de aluminio y vidrio para dividir y aprovechar espacios de manera elegante y funcional. Perfectos para oficinas, consultorios, locales comerciales y hogares. Fabricados con perfiles de aluminio de alta calidad en diversos colores y acabados. El vidrio puede ser transparente, esmerilado, tintado o con films decorativos para privacidad. Ofrecemos sistemas de piso a techo, medias alturas o con puertas integradas. Todos los canceles cuentan con aislamiento acústico básico, ideal para crear espacios privados sin perder luminosidad. Incluyen sistemas de apertura con bisagras de alta durabilidad o sistemas corredizos según el espacio disponible.",
        imagenes: [
        "Imagenes/Pasamanos 1.png",
        "Imagenes/Pasamanos 2.png",
        "Imagenes/Pasamanos 3.png",
        "Imagenes/Pasamanos 4.png",
        "Imagenes/Pasamanos Con Pecera 5.png"
        ]
    }
};

// Mostrar modal de información
function mostrarInfo(tipo) {
    const trabajo = trabajosData[tipo];
    if (!trabajo) return;

    const modal = document.getElementById('modalInfo');
    const titulo = document.getElementById('modalTitulo');
    const container = document.getElementById('infoContainer');

    titulo.textContent = trabajo.titulo + ' - Características';
    container.innerHTML = `<p class="info-text">${trabajo.info}</p>`;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Mostrar modal de imágenes
function mostrarImagenes(tipo) {
    const trabajo = trabajosData[tipo];
    if (!trabajo) return;

    const modal = document.getElementById('modalImagenes');
    const titulo = document.getElementById('modalImagenesTitulo');
    const galeria = document.getElementById('galeriaImagenes');

    titulo.textContent = trabajo.titulo + ' - Galería';
    
    let html = '';
    trabajo.imagenes.forEach((imagen, index) => {
        html += `
            <div class="galeria-item" onclick="ampliarImagen('${imagen}')">
                <img src="${imagen}" alt="Trabajo ${index + 1}">
                <div class="galeria-overlay">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                        <line x1="11" y1="8" x2="11" y2="14"></line>
                        <line x1="8" y1="11" x2="14" y2="11"></line>
                    </svg>
                </div>
            </div>
        `;
    });
    
    galeria.innerHTML = html;
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Ampliar imagen
function ampliarImagen(urlImagen) {
    const modal = document.getElementById('modalImagenGrande');
    const imagen = document.getElementById('imagenGrande');
    
    imagen.src = urlImagen;
    modal.classList.add('active');
}

// Cerrar imagen grande
function cerrarImagenGrande() {
    const modal = document.getElementById('modalImagenGrande');
    modal.classList.remove('active');
}

// Cerrar modal
function cerrarModal(modalId) {
    const modal = document.getElementById(modalId);
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Descargar PDF
function descargarPDF() {
    // Opción A: Descarga directa
    window.location.href = 'pdfs/catalogo-disenos.pdf';
    
    // O mejor aún, usar un link temporal:
    const link = document.createElement('a');
    link.href = 'pdfs/catalogo-disenos.pdf';
    link.download = 'Vidrios y Templados Lopez-Catalogo.pdf'; // Nombre del archivo al descargar
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// Cerrar modal al hacer clic fuera
window.addEventListener('click', function(e) {
    const modalInfo = document.getElementById('modalInfo');
    const modalImagenes = document.getElementById('modalImagenes');
    const modalImagenGrande = document.getElementById('modalImagenGrande');
    
    if (e.target === modalInfo) {
        cerrarModal('modalInfo');
    }
    if (e.target === modalImagenes) {
        cerrarModal('modalImagenes');
    }
    if (e.target === modalImagenGrande) {
        cerrarImagenGrande();
    }
});

// Cerrar imagen grande con tecla Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        cerrarImagenGrande();
    }
});

// Animación de entrada para las tarjetas
document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.trabajo-card');
    
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }, index * 100);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    
    cards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'all 0.6s ease';
        observer.observe(card);
    });

    // Animación para los precios
    const preciosSection = document.querySelector('.precios-section');
    if (preciosSection) {
        const preciosObserver = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                    preciosObserver.unobserve(entry.target);
                }
            });
        }, observerOptions);
        
        preciosSection.style.opacity = '0';
        preciosSection.style.transform = 'translateY(30px)';
        preciosSection.style.transition = 'all 0.8s ease';
        preciosObserver.observe(preciosSection);
    }
});